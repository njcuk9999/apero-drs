# Update Note Summary - Version 0.6.082


master wavelength solution upgrade

    - AB wave solution worked out as before
    - A, B and C wave solutions worked out using cavity width from AB and fp lines
    - add EXTRACT_S1D_WEIGHT plot to allowed plots
    - add CCF of fibers AB, A, B and C
    - fit FPs with a periodic function instead of gaussian
    - update the cavity polynomial file
    - use smart FP mask (from cavity width)
    - update figures
    - update the UNe line list (calculated from drs wave sol.)

wave night solution upgrade
    - change way wave night is calculated
    - A, B and C wave solutions no longer recalculate dcavity
    - add EXTRACT_S1D_WEIGHT plot to allowed plots
    - add hc lines and fp line outputs (like master wave)
    - update figures

CCF
    - save wave file used for RV, wave time and time difference between wave solution and observation
    - correct parameters going into CCF_fp file
    - use smart FP mask (from cavity width)

Other
    - change preprocessing hotpix mask (now made from dark_dark mask)
    - added exposure meter code
    - replace _run _seq for recipe sequences (avoid confusion with run.ini files)
    - locale module now lang module (conflict with native python module)
    - added QC to shape master
    - now allowed to define an fpmaster argument for shape master (if we already have one)
    - changed the way header is copied (avoid weird python rounding)
    - update TAP+ link for GAIA crossmatch (now https)
    - pep8 adjustments
    - change PIL --> Pillow in requirements.txt
    - sort files in dark_master and shape_master by time before reading
    - add MKL environmental variables to setup files


Still to do:

    - add CCF to QC of wave night
    - put A and B wavesolutions in e2ds_A and e2ds_B files (currently still AB)
    - add CCF output for wave solutions (CCF per order like in CCF recipe)
    - add fplines for all extracted FPs (C fiber in cal_extract)
    - bisector for CCF (new extension in CCF outputs?)
    - object database (in preprocessing?)
    - polar code update
    - EA masks from templates
    - outputs like cfht
    - summary plot review
    - commenting doc strings/constants and documentation

Known Issues:

    - cannot run code inside reduced or tmp directory (overwrites paths and cannot find files)
