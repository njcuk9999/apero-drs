# Update Note Summary - Version 0.6.099


dark_master
    - more memory efficient cube median (darkcube + dark_master)

shape_master
    - more memory efficient cube median (fpcube + fp_master)

wave master solution
    - save CCF of FP used in wave solution to a CCF file (for AB, A, B, C)
    - update smart fp mask after getting master solution (before CCF of FP)
    - calculated 'night solution' after master solution (before CCF of FP)
    - add QC for difference between RV (from CCF of FP) betwen AB, A, B and C

wave night solution
    - save CCF of FP used in wave solution to a CCF file (for AB, A, B, C)

general
    - fix copying problem in headers (hdict vs header) which was duplicating some header keys
    - extract now pushes waveA and waveB to A and B fibers respectively (used to be AB)
    - fplines now generated for all e2ds files with FP in reference fiber
    - fixed setup/install.py and setup/newprofile.py
    - worked on implementing polar code changes (unfinished)

CCF
    - added CCF noise (DVRMS_SP) calculated from e2dsff file (following Bouchy 2001)
        - header key: DVRMS_SP   and per order in table 2
    - added CCF noise (DVRMS_CC) calculated from CCF (EA + Bouchy)
        - header key: DVRMS_CC   and per order in table 2
    - added CCF noise to PLOT_CCF_UNCERT plot (previous showed DVRMS_SP only)


Still to do:
    - object database (in preprocessing?)
    - polar code update
    - cal drift code (use fplines or wave analysis? Need to discuss what is needed here)
    - outputs like cfht
    - trigger/drs interface
    - summary plot review
    - commenting doc strings/constants and documentation
    - move fp_smart_mask, cavity poly to calibDB (and provide defaults?)
    - move all data to user data dir (and get from other place than github)

Later:
    - bisector for CCF (new extension in CCF outputs?)
    - EA masks from templates
    - Improving the RV futher (maybe outside scope of DRS)

Known Issues:

    - compatibility issues between MTL and LAM
