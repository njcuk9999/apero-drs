# This is the hadmr ICDP SPIROU config file


# -----------------------------------------------------------------------------
#  CCD variables (cal_DARK_spirou)
# -----------------------------------------------------------------------------

#   Resize blue window (for dark)
ic_ccdx_blue_low = 2048-200
ic_ccdx_blue_high = 2048-1500
ic_ccdy_blue_low = 2048-20
ic_ccdy_blue_high = 2048-350

#   Resize red window (for dark)
ic_ccdx_red_low = 2048-20
ic_ccdx_red_high = 2048-1750
ic_ccdy_red_low = 2048-1570
ic_ccdy_red_high = 2048-1910

# fiber variables (cal_loc)
nbfib_AB = 1
nbfib_C = 2
ic_first_order_jump_AB = 2
ic_first_order_jump_C = 0
ic_locnbmaxo_AB = 72
ic_locnbmaxo_C = 36
qc_loc_nbo_AB = 72
qc_loc_nbo_C = 36


# -----------------------------------------------------------------------------
#   Dark histogram variables
# -----------------------------------------------------------------------------

#   The lower percentile (0 - 100)
dark_qmin = 5

#   The upper percentile (0 - 100)
dark_qmax = 95

#   The number of bins in dark histogram
histo_bins = 200

#   The range of the histogram in ADU/s
histo_range_low = -0.5
histo_range_high = 5

#   Define a bad pixel cut limit (in ADU/s)
dark_cutlimit = 100.0

# -----------------------------------------------------------------------------
#   Dark Quality control parameters
# -----------------------------------------------------------------------------

# Max dark median level [ADU/s]
qc_max_darklevel = 1.0

# Max fraction of dead pixels
qc_max_dead = 25.0


# -----------------------------------------------------------------------------
#   Localisation parameters
# -----------------------------------------------------------------------------

# Size of the order_profile smoothed box (from pixel - size to pixel + size)
loc_box_size = 10

# -----------------------------------------------------------------------------
#  CCD variables (Other)
# -----------------------------------------------------------------------------
#   Resize window custom (not for dark)
ic_ccdx_low = 5
ic_ccdx_high = 2040
ic_ccdy_low = 5
ic_ccdy_high = 1935

# -----------------------------------------------------------------------------
#  Quality control settings
# -----------------------------------------------------------------------------

#   Min dark exposure time
qc_dark_time = 1.0

# -----------------------------------------------------------------------------
#  Calib DB settings
# -----------------------------------------------------------------------------

# define the HEADER key for acquisition time
ACQTIME_KEY = ACQTIME1

# Define calibd DB master filename
ic_calibDB_filename = master_calib_SPIROU.txt

# Max wait time for calib DB (in seconds)
calib_max_wait = 3600