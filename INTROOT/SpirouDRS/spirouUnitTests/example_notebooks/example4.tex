
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatability definitions
    \def\gt{>}
    \def\lt{<}
    % Document parameters
    \title{example4}
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \section{Using custom arguments}\label{using-custom-arguments}

By default the recipes expect the following inputs:

\begin{verbatim}
- night_name - the string containing the path inside the raw data folder
- files - the list of filenames (at location: `raw data folder/night_name/`)
\end{verbatim}

In some cases different or additional arguments are required. Examples
of recipes where this is true are: - cal\_BADPIX\_spirou.py -
cal\_CCF\_E2DS\_spirou.py - cal\_DRIFT\_E2DS\_spirou.py -
cal\_DRIFTPEAK\_E2DS\_spirou.py - cal\_WAVE\_E2DS\_spirou.py

Below we describe how to a slightly modified set up routine to deal with
any number of custom arguments required.

    \subsection{Example with
cal\_BADPIX\_spirou}\label{example-with-cal_badpix_spirou}

The recipe cal\_BADPIX takes two arguments (after the night\_name), this
could use the default format requiring two and only two arguments pushed
into the list of files.

This is what the user is expected to input:

\begin{verbatim}
    cal_BADPIX_spirou.py [night_directory] [flat_flat_*.fits] [dark_dark_*.fits]
\end{verbatim}

And below is the code to deal with these two arguments:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}6}]:} \PY{c+c1}{\PYZsh{} imports and variable definition}
        
        \PY{k+kn}{from} \PY{n+nn}{\PYZus{}\PYZus{}future\PYZus{}\PYZus{}} \PY{k+kn}{import} \PY{n}{division}
        \PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k+kn}{as} \PY{n+nn}{np}
        \PY{k+kn}{import} \PY{n+nn}{os}
        
        \PY{k+kn}{from} \PY{n+nn}{SpirouDRS} \PY{k+kn}{import} \PY{n}{spirouCDB}
        \PY{k+kn}{from} \PY{n+nn}{SpirouDRS} \PY{k+kn}{import} \PY{n}{spirouConfig}
        \PY{k+kn}{from} \PY{n+nn}{SpirouDRS} \PY{k+kn}{import} \PY{n}{spirouCore}
        \PY{k+kn}{from} \PY{n+nn}{SpirouDRS} \PY{k+kn}{import} \PY{n}{spirouImage}
        \PY{k+kn}{from} \PY{n+nn}{SpirouDRS} \PY{k+kn}{import} \PY{n}{spirouStartup}
        
        \PY{c+c1}{\PYZsh{} =============================================================================}
        \PY{c+c1}{\PYZsh{} Define variables}
        \PY{c+c1}{\PYZsh{} =============================================================================}
        \PY{c+c1}{\PYZsh{} Name of program}
        \PY{n}{\PYZus{}\PYZus{}NAME\PYZus{}\PYZus{}} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cal\PYZus{}BADPIX\PYZus{}spirou.py}\PY{l+s+s1}{\PYZsq{}}
        \PY{c+c1}{\PYZsh{} Get version and author}
        \PY{n}{\PYZus{}\PYZus{}version\PYZus{}\PYZus{}} \PY{o}{=} \PY{n}{spirouConfig}\PY{o}{.}\PY{n}{Constants}\PY{o}{.}\PY{n}{VERSION}\PY{p}{(}\PY{p}{)}
        \PY{n}{\PYZus{}\PYZus{}author\PYZus{}\PYZus{}} \PY{o}{=} \PY{n}{spirouConfig}\PY{o}{.}\PY{n}{Constants}\PY{o}{.}\PY{n}{AUTHORS}\PY{p}{(}\PY{p}{)}
        \PY{n}{\PYZus{}\PYZus{}date\PYZus{}\PYZus{}} \PY{o}{=} \PY{n}{spirouConfig}\PY{o}{.}\PY{n}{Constants}\PY{o}{.}\PY{n}{LATEST\PYZus{}EDIT}\PY{p}{(}\PY{p}{)}
        \PY{n}{\PYZus{}\PYZus{}release\PYZus{}\PYZus{}} \PY{o}{=} \PY{n}{spirouConfig}\PY{o}{.}\PY{n}{Constants}\PY{o}{.}\PY{n}{RELEASE}\PY{p}{(}\PY{p}{)}
        \PY{c+c1}{\PYZsh{} Get Logging function}
        \PY{n}{WLOG} \PY{o}{=} \PY{n}{spirouCore}\PY{o}{.}\PY{n}{wlog}
        \PY{c+c1}{\PYZsh{} Get plotting functions}
        \PY{n}{sPlt} \PY{o}{=} \PY{n}{spirouCore}\PY{o}{.}\PY{n}{sPlt}
        
        \PY{c+c1}{\PYZsh{} these are the arguments of the main function (taken out to show below)}
        \PY{c+c1}{\PYZsh{}    they are all set to None by default \PYZhy{} and hence will cause an exception}
        \PY{c+c1}{\PYZsh{}    unless the user enters these required values (all strings)}
        \PY{n}{night\PYZus{}name}\PY{o}{=}\PY{n+nb+bp}{None}
        \PY{n}{darkfile}\PY{o}{=}\PY{n+nb+bp}{None}
        \PY{n}{flatfile}\PY{o}{=}\PY{n+nb+bp}{None}
        
        \PY{c+c1}{\PYZsh{} force the runtime arguments (notebook only)}
        \PY{k+kn}{import} \PY{n+nn}{sys}
        \PY{n}{sys}\PY{o}{.}\PY{n}{argv} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cal\PYZus{}BADPIX\PYZus{}spirou.py}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{20170710}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{flat\PYZus{}flat02f10.fits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dark\PYZus{}dark02d406.fits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}


    First (as always) we run the \textbf{Begin()} function to load variables
from "config.py":

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}12}]:}     \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
             \PY{c+c1}{\PYZsh{} Set up}
             \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
             \PY{c+c1}{\PYZsh{} get parameters from config files/run time args/load paths + calibdb}
             \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{Begin}\PY{p}{(}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   || *****************************************}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   || * SPIROU @(\#) Geneva Observatory (0.1.030)}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   || *****************************************}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(dir\_data\_raw)      DRS\_DATA\_RAW=/scratch/Projects/spirou\_py3/data/raw}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(dir\_data\_reduc)    DRS\_DATA\_REDUC=/scratch/Projects/spirou\_py3/data/reduced}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(dir\_calib\_db)      DRS\_CALIB\_DB=/scratch/Projects/spirou\_py3/data/calibDB}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(dir\_data\_msg)      DRS\_DATA\_MSG=/scratch/Projects/spirou\_py3/data/msg}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(print\_level)       PRINT\_LEVEL=all         \%(error/warning/info/all)}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(log\_level)         LOG\_LEVEL=all         \%(error/warning/info/all)}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(plot\_graph)        DRS\_PLOT=1            \%(def/undef/trigger)}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(used\_date)         DRS\_USED\_DATE=undefined}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||(working\_dir)       DRS\_DATA\_WORKING=/scratch/Projects/spirou\_py3/data/tmp}}
\textcolor{ansi-green-intense}{\textbf{15:48:26.0 -   ||                    DRS\_INTERACTIVE is not set, running on-line mode}}

    \end{Verbatim}

    Now we define the custom arguments. First we define pos (position), fmt
(types), names and call (calls) and then we use
\textbf{GetCustomFromRuntime()} to create the custom arguments in the
correct format.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}13}]:} \PY{c+c1}{\PYZsh{} deal with arguments being None (i.e. get from sys.argv)}
         \PY{n}{pos} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}
         \PY{n}{fmt} \PY{o}{=} \PY{p}{[}\PY{n+nb}{str}\PY{p}{,} \PY{n+nb}{str}\PY{p}{]}
         \PY{n}{names} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{flatfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{darkfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{call} \PY{o}{=} \PY{p}{[}\PY{n}{darkfile}\PY{p}{,} \PY{n}{flatfile}\PY{p}{]}
         \PY{c+c1}{\PYZsh{} now get custom arguments}
         \PY{n}{customargs} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{GetCustomFromRuntime}\PY{p}{(}\PY{n}{pos}\PY{p}{,} \PY{n}{fmt}\PY{p}{,} \PY{n}{names}\PY{p}{,} \PY{n}{calls}\PY{o}{=}\PY{n}{call}\PY{p}{)}
\end{Verbatim}


    This gets the arguments either from runtime (user input - here via
sys.argv) or from the arguments defined in main() (hence darkfile and
flatfile both set to None).

The result is "customargs" a dictionary containing all the correct
parameters with correct formats.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}14}]:} \PY{n}{customargs}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}14}]:} \{'darkfile': 'dark\_dark02d406.fits', 'flatfile': 'flat\_flat02f10.fits'\}
\end{Verbatim}
            
    "customargs" is then used in \textbf{LoadArguments()} and a mainfitsfile
\textbf{HAS} to be defined (this is responsible for setting which file
is defined as "fitsfilename" and is subsequentally used to load the
calibration database file if needed. It can only be left blank if a
recipe is not using "fitsfilename", "arg\_file\_names" or the
calibration database.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}15}]:} \PY{c+c1}{\PYZsh{} get parameters from configuration files and run time arguments}
         \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{LoadArguments}\PY{p}{(}\PY{n}{p}\PY{p}{,} \PY{n}{night\PYZus{}name}\PY{p}{,} \PY{n}{customargs}\PY{o}{=}\PY{n}{customargs}\PY{p}{,}
                                             \PY{n}{mainfitsfile}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{flatfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} as we have custom arguments need to load the calibration database}
         \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{LoadCalibDB}\PY{p}{(}\PY{n}{p}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Now running : cal\_BADPIX\_spirou with: }}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|       -- flatfile=flat\_flat02f10.fits }}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|       -- darkfile=dark\_dark02d406.fits }}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|ICDP\_NAME loaded from: /scratch/Projects/spirou\_py3/spirou\_py3/INTROOT/config/constants\_SPIROU.py}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_flat\_flat02f10\_badpixel.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_flat\_dark02f10\_blaze\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_dark\_flat02f10\_blaze\_C.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_dark\_dark02d406.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_flat\_dark02f10\_flat\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_dark\_flat02f10\_flat\_C.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_flat\_dark02f10\_loco\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_dark\_flat02f10\_loco\_C.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_flat\_dark02f10\_order\_profile\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_dark\_flat02f10\_order\_profile\_C.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 20170710\_fp\_fp02a203\_tilt.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: spirou\_wave\_ini3.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 2017-10-11\_21-32-17\_hcone\_hcone02c406\_wave\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: spirou\_wave\_ini3.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{15:48:30.0 -   |cal\_BADPIX\_spirou|Calibration file: 2017-10-11\_21-32-17\_hcone\_hcone02c406\_wave\_C.fits already exists - not copied}}

    \end{Verbatim}

    Packaged up in the main function the setup routines will look as
follows:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}16}]:} \PY{c+c1}{\PYZsh{} =============================================================================}
         \PY{c+c1}{\PYZsh{} Define functions}
         \PY{c+c1}{\PYZsh{} =============================================================================}
         \PY{k}{def} \PY{n+nf}{main}\PY{p}{(}\PY{n}{night\PYZus{}name}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{darkfile}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{flatfile}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{)}\PY{p}{:}
             \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
             \PY{c+c1}{\PYZsh{} Set up}
             \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
             \PY{c+c1}{\PYZsh{} get parameters from config files/run time args/load paths + calibdb}
             \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{Begin}\PY{p}{(}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} deal with arguments being None (i.e. get from sys.argv)}
             \PY{n}{pos} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}
             \PY{n}{fmt} \PY{o}{=} \PY{p}{[}\PY{n+nb}{str}\PY{p}{,} \PY{n+nb}{str}\PY{p}{]}
             \PY{n}{names} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{flatfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{darkfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{call} \PY{o}{=} \PY{p}{[}\PY{n}{darkfile}\PY{p}{,} \PY{n}{flatfile}\PY{p}{]}
             \PY{c+c1}{\PYZsh{} now get custom arguments}
             \PY{n}{customargs} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{GetCustomFromRuntime}\PY{p}{(}\PY{n}{pos}\PY{p}{,} \PY{n}{fmt}\PY{p}{,} \PY{n}{names}\PY{p}{,} \PY{n}{calls}\PY{o}{=}\PY{n}{call}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} get parameters from configuration files and run time arguments}
             \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{LoadArguments}\PY{p}{(}\PY{n}{p}\PY{p}{,} \PY{n}{night\PYZus{}name}\PY{p}{,} \PY{n}{customargs}\PY{o}{=}\PY{n}{customargs}\PY{p}{,}
                                             \PY{n}{mainfitsfile}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{flatfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} as we have custom arguments need to load the calibration database}
             \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{LoadCalibDB}\PY{p}{(}\PY{n}{p}\PY{p}{)}
             
             \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
             \PY{c+c1}{\PYZsh{} Rest of function here}
             \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
\end{Verbatim}


    \subsection{Example with
cal\_CCF\_E2DS\_spirou}\label{example-with-cal_ccf_e2ds_spirou}

The recipe cal\_CCF\_E2DS\_spirou.py requires 5 additional arguements
(after night\_name) and input is as follows:

\begin{verbatim}
    cal_CCF_E2DS_spirou.py [night_directory] [E2DSfilename] [mask] [RV] [width] [step]
\end{verbatim}

In the recipe this is packaged up as follows:

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}21}]:} \PY{k}{def} \PY{n+nf}{main}\PY{p}{(}\PY{n}{night\PYZus{}name}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{e2dsfile}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{mask}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{rv}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{,}
                  \PY{n}{step}\PY{o}{=}\PY{n+nb+bp}{None}\PY{p}{)}\PY{p}{:}
             \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
             \PY{c+c1}{\PYZsh{} Set up}
             \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
             \PY{c+c1}{\PYZsh{} get parameters from config files/run time args/load paths + calibdb}
             \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{Begin}\PY{p}{(}\PY{p}{)}
         
             \PY{c+c1}{\PYZsh{} deal with arguments being None (i.e. get from sys.argv)}
             \PY{n}{pos} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{]}
             \PY{n}{fmt} \PY{o}{=} \PY{p}{[}\PY{n+nb}{str}\PY{p}{,} \PY{n+nb}{str}\PY{p}{,} \PY{n+nb}{float}\PY{p}{,} \PY{n+nb}{float}\PY{p}{,} \PY{n+nb}{float}\PY{p}{]}
             \PY{n}{name} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{e2dsfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ccf\PYZus{}mask}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target\PYZus{}rv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ccf\PYZus{}width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ccf\PYZus{}step}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{lname} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{input\PYZus{}file}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}mask}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}step}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
             \PY{n}{req} \PY{o}{=} \PY{p}{[}\PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{False}\PY{p}{,} \PY{n+nb+bp}{False}\PY{p}{]}
             \PY{n}{call} \PY{o}{=} \PY{p}{[}\PY{n}{e2dsfile}\PY{p}{,} \PY{n}{mask}\PY{p}{,} \PY{n}{rv}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{step}\PY{p}{]}
             \PY{n}{call\PYZus{}priority} \PY{o}{=} \PY{p}{[}\PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{]}
             \PY{c+c1}{\PYZsh{} now get custom arguments}
             \PY{n}{customargs} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{GetCustomFromRuntime}\PY{p}{(}\PY{n}{pos}\PY{p}{,} \PY{n}{fmt}\PY{p}{,} \PY{n}{name}\PY{p}{,} \PY{n}{req}\PY{p}{,} \PY{n}{call}\PY{p}{,}
                                                             \PY{n}{call\PYZus{}priority}\PY{p}{,} \PY{n}{lname}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} get parameters from configuration files and run time arguments}
             \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{LoadArguments}\PY{p}{(}\PY{n}{p}\PY{p}{,} \PY{n}{night\PYZus{}name}\PY{p}{,} \PY{n}{customargs}\PY{o}{=}\PY{n}{customargs}\PY{p}{,}
                                             \PY{n}{mainfitsfile}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{e2dsfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                                             \PY{n}{mainfitsdir}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reduced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{c+c1}{\PYZsh{} as we have custom arguments need to load the calibration database}
             \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{LoadCalibDB}\PY{p}{(}\PY{n}{p}\PY{p}{)}
\end{Verbatim}


    where this time CCF\_width and CCF\_step are not required (they have a
default value) and an additional parameter was added to
\textbf{LoadArguments()}.

This additional parameter is "mainfitsdir" and can either have the value
"reduced" or "raw" "calibDB" or be a valid absolute path to the folder.
This allows the "mainfitsfile" to be located in a folder other than the
default ("raw") folder (this was the case above for
cal\_BADPIX\_spirou.py).

The content of customargs is shown below and finally how they appear in
the parameter dictionary "p" is shown at the end.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}37}]:}    
         \PY{c+c1}{\PYZsh{} these are the arguments of the main function (taken out to show below)}
         \PY{c+c1}{\PYZsh{}    they are all set to None by default \PYZhy{} and hence will cause an exception}
         \PY{c+c1}{\PYZsh{}    unless the user enters these required values (all strings)}
         \PY{n}{night\PYZus{}name}\PY{o}{=}\PY{n+nb+bp}{None}
         \PY{n}{e2dsfile}\PY{o}{=}\PY{n+nb+bp}{None}
         \PY{n}{mask}\PY{o}{=}\PY{n+nb+bp}{None}
         \PY{n}{rv}\PY{o}{=}\PY{n+nb+bp}{None}
         \PY{n}{width}\PY{o}{=}\PY{n+nb+bp}{None}
         \PY{n}{step}\PY{o}{=}\PY{n+nb+bp}{None}
         
         \PY{c+c1}{\PYZsh{} force the runtime arguments (notebook only)}
         \PY{k+kn}{import} \PY{n+nn}{sys}
         \PY{n}{sys}\PY{o}{.}\PY{n}{argv} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cal\PYZus{}CCF\PYZus{}E2DS\PYZus{}spirou.py}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{20170710}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{fp\PYZus{}fp02a203\PYZus{}e2ds\PYZus{}AB.fits}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{UrNe.mas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{0}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{10}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{0.1}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
         \PY{c+c1}{\PYZsh{} Set up}
         \PY{c+c1}{\PYZsh{} \PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}\PYZhy{}}
         \PY{c+c1}{\PYZsh{} get parameters from config files/run time args/load paths + calibdb}
         \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{Begin}\PY{p}{(}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} deal with arguments being None (i.e. get from sys.argv)}
         \PY{n}{pos} \PY{o}{=} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{]}
         \PY{n}{fmt} \PY{o}{=} \PY{p}{[}\PY{n+nb}{str}\PY{p}{,} \PY{n+nb}{str}\PY{p}{,} \PY{n+nb}{float}\PY{p}{,} \PY{n+nb}{float}\PY{p}{,} \PY{n+nb}{float}\PY{p}{]}
         \PY{n}{name} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{e2dsfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ccf\PYZus{}mask}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{target\PYZus{}rv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ccf\PYZus{}width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ccf\PYZus{}step}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{lname} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{input\PYZus{}file}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}mask}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}width}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}step}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         \PY{n}{req} \PY{o}{=} \PY{p}{[}\PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{False}\PY{p}{,} \PY{n+nb+bp}{False}\PY{p}{]}
         \PY{n}{call} \PY{o}{=} \PY{p}{[}\PY{n}{e2dsfile}\PY{p}{,} \PY{n}{mask}\PY{p}{,} \PY{n}{rv}\PY{p}{,} \PY{n}{width}\PY{p}{,} \PY{n}{step}\PY{p}{]}
         \PY{n}{call\PYZus{}priority} \PY{o}{=} \PY{p}{[}\PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{,} \PY{n+nb+bp}{True}\PY{p}{]}
         \PY{c+c1}{\PYZsh{} now get custom arguments}
         \PY{n}{customargs} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{GetCustomFromRuntime}\PY{p}{(}\PY{n}{pos}\PY{p}{,} \PY{n}{fmt}\PY{p}{,} \PY{n}{name}\PY{p}{,} \PY{n}{req}\PY{p}{,} \PY{n}{call}\PY{p}{,}
                                                             \PY{n}{call\PYZus{}priority}\PY{p}{,} \PY{n}{lname}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} get parameters from configuration files and run time arguments}
         \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{LoadArguments}\PY{p}{(}\PY{n}{p}\PY{p}{,} \PY{n}{night\PYZus{}name}\PY{p}{,} \PY{n}{customargs}\PY{o}{=}\PY{n}{customargs}\PY{p}{,}
                                         \PY{n}{mainfitsfile}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{e2dsfile}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                                         \PY{n}{mainfitsdir}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reduced}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{c+c1}{\PYZsh{} as we have custom arguments need to load the calibration database}
         \PY{n}{p} \PY{o}{=} \PY{n}{spirouStartup}\PY{o}{.}\PY{n}{LoadCalibDB}\PY{p}{(}\PY{n}{p}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   || *****************************************}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   || * SPIROU @(\#) Geneva Observatory (0.1.030)}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   || *****************************************}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(dir\_data\_raw)      DRS\_DATA\_RAW=/scratch/Projects/spirou\_py3/data/raw}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(dir\_data\_reduc)    DRS\_DATA\_REDUC=/scratch/Projects/spirou\_py3/data/reduced}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(dir\_calib\_db)      DRS\_CALIB\_DB=/scratch/Projects/spirou\_py3/data/calibDB}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(dir\_data\_msg)      DRS\_DATA\_MSG=/scratch/Projects/spirou\_py3/data/msg}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(print\_level)       PRINT\_LEVEL=all         \%(error/warning/info/all)}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(log\_level)         LOG\_LEVEL=all         \%(error/warning/info/all)}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(plot\_graph)        DRS\_PLOT=1            \%(def/undef/trigger)}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(used\_date)         DRS\_USED\_DATE=undefined}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||(working\_dir)       DRS\_DATA\_WORKING=/scratch/Projects/spirou\_py3/data/tmp}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   ||                    DRS\_INTERACTIVE is not set, running on-line mode}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Now running : cal\_CCF\_E2DS\_spirou with: }}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|       -- e2dsfile=fp\_fp02a203\_e2ds\_AB.fits }}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|       -- ccf\_mask=UrNe.mas }}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|       -- target\_rv=0.0 }}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|       -- ccf\_width=10.0 }}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|       -- ccf\_step=0.1 }}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|ICDP\_NAME loaded from: /scratch/Projects/spirou\_py3/spirou\_py3/INTROOT/config/constants\_SPIROU.py}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_flat\_flat02f10\_badpixel.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_flat\_dark02f10\_blaze\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_dark\_flat02f10\_blaze\_C.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_dark\_dark02d406.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_flat\_dark02f10\_flat\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_dark\_flat02f10\_flat\_C.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_flat\_dark02f10\_loco\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_dark\_flat02f10\_loco\_C.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_flat\_dark02f10\_order\_profile\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_dark\_flat02f10\_order\_profile\_C.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 20170710\_fp\_fp02a203\_tilt.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: spirou\_wave\_ini3.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 2017-10-11\_21-32-17\_hcone\_hcone02c406\_wave\_AB.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: spirou\_wave\_ini3.fits already exists - not copied}}
\textcolor{ansi-green-intense}{\textbf{16:00:12.0 -   |cal\_CCF\_E2DS\_spirou|Calibration file: 2017-10-11\_21-32-17\_hcone\_hcone02c406\_wave\_C.fits already exists - not copied}}

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}40}]:} \PY{c+c1}{\PYZsh{} display customargs}
         \PY{n}{customargs}
\end{Verbatim}


\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}40}]:} \{'ccf\_mask': 'UrNe.mas',
          'ccf\_step': 0.1,
          'ccf\_width': 10.0,
          'e2dsfile': 'fp\_fp02a203\_e2ds\_AB.fits',
          'target\_rv': 0.0\}
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}39}]:} \PY{c+c1}{\PYZsh{} display parameters in p}
         \PY{n}{keys} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{E2DSFILE}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}MASK}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{TARGET\PYZus{}RV}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}WIDTH}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CCF\PYZus{}STEP}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
         
         \PY{k}{for} \PY{n}{key} \PY{o+ow}{in} \PY{n}{keys}\PY{p}{:}
             \PY{n}{args} \PY{o}{=} \PY{p}{[}\PY{n}{key}\PY{p}{,} \PY{n}{p}\PY{p}{[}\PY{n}{key}\PY{p}{]}\PY{p}{,} \PY{n+nb}{type}\PY{p}{(}\PY{n}{p}\PY{p}{[}\PY{n}{key}\PY{p}{]}\PY{p}{)}\PY{p}{,} \PY{n}{p}\PY{o}{.}\PY{n}{sources}\PY{p}{[}\PY{n}{key}\PY{p}{]}\PY{p}{]}
             \PY{k}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{ \PYZhy{} key = }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZob{}0\PYZcb{}}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{value=\PYZob{}1\PYZcb{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{type=\PYZob{}2\PYZcb{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+se}{\PYZbs{}t}\PY{l+s+s1}{source=\PYZob{}3\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{o}{*}\PY{n}{args}\PY{p}{)}\PY{p}{)}
\end{Verbatim}


    \begin{Verbatim}[commandchars=\\\{\}]

 - key = "E2DSFILE"
	value=fp\_fp02a203\_e2ds\_AB.fits
	type=<class 'str'>
	source=From run time arguments (sys.argv)

 - key = "CCF\_MASK"
	value=UrNe.mas
	type=<class 'str'>
	source=From run time arguments (sys.argv)

 - key = "TARGET\_RV"
	value=0.0
	type=<class 'float'>
	source=From run time arguments (sys.argv)

 - key = "CCF\_WIDTH"
	value=10.0
	type=<class 'float'>
	source=From run time arguments (sys.argv)

 - key = "CCF\_STEP"
	value=0.1
	type=<class 'float'>
	source=From run time arguments (sys.argv)

    \end{Verbatim}


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
